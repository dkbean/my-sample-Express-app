<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>File List</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
</head>

<body>
  <div class="ui container">
    <h2 class="ui header">Files List</h2>
    <div id="fileList" class="ui list">
      <!-- Filenames will be injected here -->
    </div>
  </div>

  <script>
    async function fetchFileList() {
      try {
        const response = await fetch('/files');
        const fileNames = await response.json();

        const fileListElement = document.getElementById('fileList');
        fileNames.forEach(fileName => {
          const fileItem = document.createElement('a');
          fileItem.href = `/file-content/${encodeURIComponent(fileName)}`;
          fileItem.className = 'item';
          fileItem.textContent = fileName;
          fileListElement.appendChild(fileItem);
        });
      } catch (error) {
        console.error('Error fetching file list:', error);
      }
    }

    fetchFileList();
  </script>
</body>

</html>